include ../../components/logo/logo.pug
include ../../components/btn/btn.pug

mixin headerMarkup(data)
	-
		const {cl, menu, btn1, href1, btn2, href2, login} = data;
	header(class = "header " + cl)
		nav.header__navigation
			.header__logo
				+logo
			button(type="button" class="header__burger")
				.header__burger-line
			ul.header__navigation-list
				each val, i in menu
					if menu[i].incl
						li.header__navigation-item.header__navigation-item_with-submenu
							a(href=menu[i].href class="header__link") !{menu[i].item}
							ul.header__navigation-list
								each val, j in menu[i].incl
									li.header__navigation-item
										a(href=menu[i].hrefs[j] class="header__link") !{menu[i].incl[j]}
					else
						li.header__navigation-item
							a(href=menu[i].href class="header__link") !{menu[i].item}
			if login
				.header__user-block-logged
					.header__user Cosmin Negoita
			else
				.header__user-block
					.header__btn
						+btn(btn1, 'small-light', 0, href1)
					.header__btn
						+btn(btn2, 'small', 0, href2)
-
	//- import {a} from '../../commonData/headerData';
	//- const a = require('./header.json');
	const MenuItem = function(item, href, incl, hrefs) {
		this.item = item;
		this.href = href;
		this.incl = incl;
		this.hrefs = hrefs;
	}
	const menuRus = [
		new MenuItem('О нас', '/mock-address/change-me'),
		new MenuItem('Услуги', '/mock-address/change-me', ['Услуга 1', 'Услуга 2', 'Услуга 3'], ['/mock-address/change-me', "/mock-address/change-me", '/mock-address/change-me']),
		new MenuItem('Вакансии', '/mock-address/change-me'),
		new MenuItem('Новости', '/mock-address/change-me'),
		new MenuItem('Соглашения', '/mock-address/change-me', ['Соглашение 1', 'Соглашение 2', 'Соглашение 3'], ['/mock-address/change-me', "/mock-address/change-me", '/mock-address/change-me']),
	];
	const menuEng = [
		new MenuItem('Home', '/mock-address/change-me'),
		new MenuItem('About Us', '/mock-address/change-me'),
		new MenuItem('Services', '/mock-address/change-me', ['Service 1', 'Service 2', 'Service 3'], ['/mock-address/change-me', "/mock-address/change-me", '/mock-address/change-me']),
		new MenuItem('Careers', '/mock-address/change-me'),
		new MenuItem('News', '/mock-address/change-me'),
		new MenuItem('Documentation', '/mock-address/change-me')
	];
	const markupEng1 = {
		cl: '',
		menu: menuEng,
		btn1: 'Login',
		href1: '/mock-address/change-me',
		btn2: 'Register',
		href2: '/mock-address/change-me',
		login: 1
	}
	const markupEng2 = {
		cl: '',
		menu: menuEng,
		btn1: 'Login',
		href1: '/mock-address/change-me',
		btn2: 'Register',
		href2: '/mock-address/change-me'
	}
	const markupRus = {
		cl: '',
		menu: menuRus,
		btn1: 'войти',
		href1: 'sign-in.html',
		btn2: 'зарегистрироваться',
		href2: 'registration.html'
	}
mixin header(isEng, isLogged)
	#{a}
	if isEng
		if isLogged
			+headerMarkup(markupEng1)
		else
			+headerMarkup(markupEng2)
	else
		+headerMarkup(markupRus)